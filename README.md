# System Override

комманда: yandex freaks

учатники: Баринов Тимур, Галчихин Иван

Погрузись в ретро-атмосферу! Классический аркадный экшен с современной графикой! Бей рекорды! Простое управление, затягивающий геймплей! идеальная игра для любого возраста! 

Особенности:
- Динамичный геймплей
- Система очков и рекордов  
- Эстетика
- Челлендж

Обычно интерфейс накладывается поверх игры. В игре элементы интерфейса — это физические объекты.

Примеры использования меню для прохождения:

- Пауза как Платформа:
    - Герой прыгает над пропастью, но не долетает.
    - Игрок ставит паузу, игра замирает, появляется меню с кнопками "Продолжить", "Настройки", "Выход".
    - Меню появляется ровно там, где находится камера.
    - Игрок отжимает паузу, и герой приземляется прям на кнопку продолжить, используя ее как платформу.
- Drag & Drop:
    - В углу экрана есть счетчик очков или жизней.
    - Впереди яма с шипами.
    - Игрок берет мышкой плашку "Score: 100", перетаскивает ее в яму и использует как платформу.

игра короче крутая и т.д.

---

# ТЕХНИЧЕСКОЕ ЗАДАНИЕ (ТЗ)
## Проект: Интерактивный Аркадный Экшен "System Override"

**Дата создания:** Январь 2026  
**Версия:** 1.0  
**Статус:** Готово к разработке  

---

## 1. ОБЩИЕ СВЕДЕНИЯ

### 1.1 Назначение проекта
Создание оригинального 2D аркадного экшена с инновационной игровой механикой, в которой меню и интерфейс — это физические объекты, которые можно использовать как платформы прямо во время геймплея.

### 1.2 Тип проекта
- **Платформа:** Python 3.8+
- **Библиотека:** Arcade 3.3+
- **Тип игры:** 2D платформер с аркадной механикой
- **Целевая аудитория:** Все возрастные группы

### 1.3 Основная идея
Классический аркадный экшен в ретро-стиле, где главный персонаж должен преодолеть серию препятствий. Уникальность: элементы UI (кнопки, панели) — это физические объекты, которые появляются в критические моменты и могут быть использованы как платформы для спасения.

**Пример геймплея:**
- Герой прыгает над пропастью, но не долетает
- Игрок нажимает PAUSE → появляется меню с физическими кнопками
- Герой приземляется на кнопку "Продолжить" → продолжает прыгать
- Кнопка становится платформой и помогает преодолеть препятствие

---

## 2. ОСНОВНОЙ ФУНКЦИОНАЛ

### 2.1 Игровые состояния


#### 2.1.1 Стартовое окно (Menu State)
- **Описание:** Главное меню игры
- **Элементы:**
  - Заголовок "System Override" с анимацией
  - Кнопка "Начать игру" (Start Game)
  - Кнопка "Настройки" (Settings)
  - Кнопка "Выход" (Exit)
  - Фоновая анимация/партиклы
  - Отображение текущего рекорда
  - Музыкальное сопровождение

#### 2.1.2 Выбор уровней (Level Select)
- **Описание:** Меню выбора уровней сложности
- **Уровни:**
  - Level 1 (Easy) — базовые платформы
  - Level 2 (Medium) — враги, ускорители, пропасти
  - Level 3 (Hard) — сложная геометрия, партиклы опасности
- **Для каждого уровня:**
  - Показать лучший результат (High Score)
  - Статус прохождения (Locked/Unlocked)
  - Миниатюра уровня

#### 2.1.3 Основной геймплей (Game State)
- **Описание:** Активный игровой процесс
- **Элементы:**
  - Главный персонаж (спрайт с анимацией)
  - Платформы (статические)
  - Враги (движущиеся спрайты с AI)
  - Сборные предметы (монеты, бонусы)
  - Опасные зоны (шипы, лава, яма)
  - Камера, следящая за персонажем
  - HUD (здоровье, очки, время)

#### 2.1.4 Пауза с физическими объектами (Pause State)
- **Описание:** Меню паузы с интерактивными элементами
- **Особенность:** Кнопки паузы — это физические спрайты с коллизией
- **Кнопки (физические объекты):**
  - "Resume" — зелёная кнопка (приземлиться = продолжить)
  - "Settings" — жёлтая кнопка
  - "Quit to Menu" — красная кнопка
- **Поведение:**
  - Кнопки имеют PhysicsBody (DYNAMIC или KINEMATIC)
  - Персонаж может приземлиться на них как на платформу
  - При касании кнопки → выполнить соответствующее действие
  - Можно перемещать мышью (drag & drop)

#### 2.1.5 Финальное окно (Game Over / Victory Screen)
- **Описание:** Экран результатов
- **При победе:**
  - "LEVEL COMPLETE!" с анимацией
  - Финальный счёт очков
  - Время прохождения
  - Кнопка "Next Level"
  - Кнопка "Retry"
  - Кнопка "Menu"
- **При поражении:**
  - "GAME OVER" с анимацией
  - Показать, что произошло (враг, яма, время)
  - Кнопка "Retry"
  - Кнопка "Menu"

### 2.2 Механика персонажа

#### 2.2.1 Движение и управление
- **Управление:**
  - ← → (левый/правый) — движение
  - SPACE — прыжок
  - PAUSE/P — пауза
  - ESC — выход в меню
  - Мышь — перемещение UI элементов (drag & drop)

- **Физика:**
  - Гравитация: 9.8 м/с² (стандартная)
  - Скорость бега: 300 пиксели/сек
  - Сила прыжка: 600 пиксели/сек
  - Трение о землю: 0.9
  - Максимальная горизонтальная скорость: 400 пиксели/сек

#### 2.2.2 Анимация персонажа
- **Состояния спрайта:**
  - Idle (стоит) — 2 кадра, loop
  - Running (бежит) — 4 кадра, loop
  - Jumping (прыгает) — 1 кадр
  - Falling (падает) — 2 кадра, loop
  - Dead (смерть) — 3 кадра, one-shot
- **Спрайт-лист:** 64×64 пиксела на кадр

### 2.3 Враги и препятствия

#### 2.3.1 Типы врагов
1. **PatrolEnemy** (враг на патруле)
   - Движется туда-сюда по платформе
   - Скорость: 150 пиксели/сек
   - Анимация: walking (2 кадра)
   - Урон: 1 HP
   - Спаун на разных уровнях

2. **JumpingEnemy** (прыгающий враг)
   - Прыгает случайно
   - Интервал прыжков: 1-2 сек
   - Урон: 1 HP
   - Высота прыжка: 250 пиксели

3. **FlyingEnemy** (летающий враг)
   - Летает по синусоиде
   - Скорость: 200 пиксели/сек
   - Урон: 2 HP
   - Запасного DYNAMIC physics (не падает)

#### 2.3.2 Опасные зоны
- **Spikes** (шипы) — мгновенная смерть при касании
- **Lava** (лава) — урон 10 HP/сек
- **Pit** (пропасть) — падение = смерть
- **Slippery Surface** (скользкая поверхность) — низкое трение

### 2.4 Система сбора предметов

#### 2.4.1 Монеты (Coins)
- Дают +10 очков при сборе
- Анимация: вращение
- Количество на уровне: 10-20 шт

#### 2.4.2 Бонусы (Power-ups)
- **Shield** — временная защита (3 сек)
- **Speed Boost** — ускорение (2 сек, +150 скорость)
- **Extra Life** — дополнительная жизнь (+1 HP)
- **Time Freeze** — все враги стоят на месте (2 сек)

### 2.5 Камера и скролинг

#### 2.5.1 Параметры камеры
- Тип: Follow Camera (следит за персонажем)
- Смещение от центра: вперед по ходу движения
- Гладкость: Panning Fraction = 0.1
- Зум: 1.0x

#### 2.5.2 Граница видимости
- Если персонаж упал ниже видимой области → Game Over
- Максимальное смещение вверх — конец уровня

---

## 3. ИСПОЛЬЗУЕМЫЕ ТЕХНОЛОГИИ ARCADE

### 3.1 Спрайты и графика
 **Sprites** (arcade.Sprite)
- Главный персонаж
- Враги
- Платформы
- Сборные предметы
- UI элементы (кнопки)

 **SpriteList и Groups**
- player_list
- platforms_list
- enemies_list
- coins_list
- hazards_list
- ui_buttons_list (для физических кнопок меню)

 **Анимация**
- TextureList для спрайтов персонажа
- frame_counter для переключения кадров
- Скорость анимации: 0.1 сек/кадр

### 3.2 Физика и коллизии

 **PhysicsEnginePlatformer** (для простых платформеров)
- Использование для Level 1
- Гравитация, коллизии с платформами

 **Collision Detection**
- check_for_collision(sprite1, sprite2)
- sprite.collides_with_list(sprite_list)
- Обнаружение: враги, предметы, опасности

 **PymunkPhysicsEngine** (для расширенной физики)
- Level 2-3 используют полный Pymunk
- Физические кнопки меню (DYNAMIC/KINEMATIC body)
- Collision handlers для специальных эффектов
- Friction и damping

### 3.3 Система частиц (Particle System)

 **Particle Emitters**
- При сборе монеты → партиклы (+10 очков)
- При смерти → партиклы крови
- При входе враги → пыль
- При касании опасности → искры
- При сборе бонуса → звёзды/пузыри

 **Типы частиц:**
- Coins burst (золотые, вверх)
- Death effect (красные, во все стороны)
- Danger zone (жёлтые, вибрирующие)
- Power-up (разноцветные, спираль)

### 3.4 Звук и музыка

 **Sound Effects**
- Jump: whoosh.mp3 (100ms)
- Coin collect: ding.mp3 (300ms)
- Enemy hit: hurt.mp3 (500ms)
- Power-up: chime.mp3 (600ms)
- Game Over: game_over.mp3 (2sec)
- Victory: victory.mp3 (2sec)

 **Background Music**
- Menu theme: 60-80 BPM, loop
- Game theme: 100-120 BPM, loop (разные для каждого уровня)
- Pause theme: минималистичная

### 3.5 Хранение данных

 **Система сохранения**
- Формат: JSON или CSV
- Данные:
  
- Расположение: `data/game_data.json`
- Загрузка при старте игры
- Сохранение при завершении уровня

### 3.6 Камера (Camera System)

 **Используемые функции:**
- arcade.Camera() — создание камеры
- camera.position = (x, y) — позиционирование
- Smooth panning (мягкое следование)
- Граница камеры по размерам уровня

---

## 4. УРОВНИ И ПРОЕКТИРОВАНИЕ

### 4.1 Структура Level 1 (Easy)
- **Размер:** 1920×1080 пиксели
- **Длительность:** 60 сек
- **Враги:** 2 PatrolEnemy
- **Платформы:** 8 шт (статичные)
- **Монеты:** 12
- **Бонусов:** 1 Shield
- **Главная механика:** Обучение управлению и прыжкам

### 4.2 Структура Level 2 (Medium)
- **Размер:** 2560×1440 пиксели
- **Длительность:** 120 сек
- **Враги:** 2 PatrolEnemy + 1 JumpingEnemy
- **Платформы:** 12 шт (2 движущихся)
- **Монеты:** 18
- **Опасности:** 3 зоны со шипами
- **Бонусов:** 2 (Shield, Speed Boost)
- **Главная механика:** Избегание врагов, использование платформ

### 4.3 Структура Level 3 (Hard)
- **Размер:** 3200×1800 пиксели
- **Длительность:** 180 сек
- **Враги:** 1 PatrolEnemy + 1 JumpingEnemy + 1 FlyingEnemy
- **Платформы:** 15 шт (4 движущихся, 2 исчезающих)
- **Монеты:** 20
- **Опасности:** 5 зон (шипы, лава, пропасти)
- **Бонусов:** 3 (все типы)
- **Главная механика:** Полный контроль всех механик

### 4.4 Описание уровней (JSON)


---


## 5. КОНТРОЛЬНЫЙ СПИСОК РАЗРАБОТКИ

- [x] Создана структура проекта
- [ ] Написан Player класс с анимацией
- [x] Реализована система физики (гравитация, прыжок)
- [ ] Созданы враги с AI
- [x] Реализована система коллизий
- [ ] Создано 3 уровня
- [ ] Реализована система частиц
- [ ] Добавлены звуки
- [ ] Реализовано хранение данных (рекорды)
- [x] Написано State Manager
- [x] Создано меню
- [ ] Реализована пауза с физическими кнопками
- [x] Экран Game Over / Victory
- [x] Camera система
- [x] UI и HUD
- [ ] Написана пояснительная записка
- [ ] Создана презентация
- [x] Git репозиторий с коммитами
- [ ] Проверена PEP 8
- [ ] Все работает без багов

---

## ЗАКЛЮЧЕНИЕ

Это ТЗ определяет полную спецификацию для разработки аркадного экшена "System Override" с инновационной механикой физических кнопок меню. Проект должен продемонстрировать:

 Глубокое знание Arcade библиотеки  
 Качественный объектно-ориентированный дизайн  
 Творческий подход к игровой механике  
 Внимание к деталям и полировке
