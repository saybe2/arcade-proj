# ТЕХНИЧЕСКОЕ ЗАДАНИЕ (ТЗ)
## Проект: Интерактивный Аркадный Экшен "PhysicsPlay"

**Дата создания:** Январь 2026  
**Версия:** 1.0  
**Статус:** Готово к разработке  

---

## 1. ОБЩИЕ СВЕДЕНИЯ

### 1.1 Назначение проекта
Создание оригинального 2D аркадного экшена с инновационной игровой механикой, в которой меню и интерфейс — это физические объекты, которые можно использовать как платформы прямо во время геймплея.

### 1.2 Тип проекта
- **Платформа:** Python 3.8+
- **Библиотека:** Arcade 3.3+
- **Тип игры:** 2D платформер с аркадной механикой
- **Целевая аудитория:** Все возрастные группы

### 1.3 Основная идея
Классический аркадный экшен в ретро-стиле, где главный персонаж должен преодолеть серию препятствий. Уникальность: элементы UI (кнопки, панели) — это физические объекты, которые появляются в критические моменты и могут быть использованы как платформы для спасения.

**Пример геймплея:**
- Герой прыгает над пропастью, но не долетает
- Игрок нажимает PAUSE → появляется меню с физическими кнопками
- Герой приземляется на кнопку "Продолжить" → продолжает прыгать
- Кнопка становится платформой и помогает преодолеть препятствие

---

## 2. ОСНОВНОЙ ФУНКЦИОНАЛ

### 2.1 Игровые состояния


#### 2.1.1 Стартовое окно (Menu State)
- **Описание:** Главное меню игры
- **Элементы:**
  - Заголовок "PhysicsPlay" с анимацией
  - Кнопка "Начать игру" (Start Game)
  - Кнопка "Настройки" (Settings)
  - Кнопка "Выход" (Exit)
  - Фоновая анимация/партиклы
  - Отображение текущего рекорда
  - Музыкальное сопровождение

#### 2.1.2 Выбор уровней (Level Select)
- **Описание:** Меню выбора уровней сложности
- **Уровни:**
  - Level 1 (Easy) — базовые платформы
  - Level 2 (Medium) — враги, ускорители, пропасти
  - Level 3 (Hard) — сложная геометрия, партиклы опасности
- **Для каждого уровня:**
  - Показать лучший результат (High Score)
  - Статус прохождения (Locked/Unlocked)
  - Миниатюра уровня

#### 2.1.3 Основной геймплей (Game State)
- **Описание:** Активный игровой процесс
- **Элементы:**
  - Главный персонаж (спрайт с анимацией)
  - Платформы (статические)
  - Враги (движущиеся спрайты с AI)
  - Сборные предметы (монеты, бонусы)
  - Опасные зоны (шипы, лава, яма)
  - Камера, следящая за персонажем
  - HUD (здоровье, очки, время)

#### 2.1.4 Пауза с физическими объектами (Pause State)
- **Описание:** Меню паузы с интерактивными элементами
- **Особенность:** Кнопки паузы — это физические спрайты с коллизией
- **Кнопки (физические объекты):**
  - "Resume" — зелёная кнопка (приземлиться = продолжить)
  - "Settings" — жёлтая кнопка
  - "Quit to Menu" — красная кнопка
- **Поведение:**
  - Кнопки имеют PhysicsBody (DYNAMIC или KINEMATIC)
  - Персонаж может приземлиться на них как на платформу
  - При касании кнопки → выполнить соответствующее действие
  - Можно перемещать мышью (drag & drop)

#### 2.1.5 Финальное окно (Game Over / Victory Screen)
- **Описание:** Экран результатов
- **При победе:**
  - "LEVEL COMPLETE!" с анимацией
  - Финальный счёт очков
  - Время прохождения
  - Кнопка "Next Level"
  - Кнопка "Retry"
  - Кнопка "Menu"
- **При поражении:**
  - "GAME OVER" с анимацией
  - Показать, что произошло (враг, яма, время)
  - Кнопка "Retry"
  - Кнопка "Menu"

### 2.2 Механика персонажа

#### 2.2.1 Движение и управление
- **Управление:**
  - ← → (левый/правый) — движение
  - SPACE — прыжок
  - PAUSE/P — пауза
  - ESC — выход в меню
  - Мышь — перемещение UI элементов (drag & drop)

- **Физика:**
  - Гравитация: 9.8 м/с² (стандартная)
  - Скорость бега: 300 пиксели/сек
  - Сила прыжка: 600 пиксели/сек
  - Трение о землю: 0.9
  - Максимальная горизонтальная скорость: 400 пиксели/сек

#### 2.2.2 Анимация персонажа
- **Состояния спрайта:**
  - Idle (стоит) — 2 кадра, loop
  - Running (бежит) — 4 кадра, loop
  - Jumping (прыгает) — 1 кадр
  - Falling (падает) — 2 кадра, loop
  - Dead (смерть) — 3 кадра, one-shot
- **Спрайт-лист:** 64×64 пиксела на кадр

### 2.3 Враги и препятствия

#### 2.3.1 Типы врагов
1. **PatrolEnemy** (враг на патруле)
   - Движется туда-сюда по платформе
   - Скорость: 150 пиксели/сек
   - Анимация: walking (2 кадра)
   - Урон: 1 HP
   - Спаун на разных уровнях

2. **JumpingEnemy** (прыгающий враг)
   - Прыгает случайно
   - Интервал прыжков: 1-2 сек
   - Урон: 1 HP
   - Высота прыжка: 250 пиксели

3. **FlyingEnemy** (летающий враг)
   - Летает по синусоиде
   - Скорость: 200 пиксели/сек
   - Урон: 2 HP
   - Запасного DYNAMIC physics (не падает)

#### 2.3.2 Опасные зоны
- **Spikes** (шипы) — мгновенная смерть при касании
- **Lava** (лава) — урон 10 HP/сек
- **Pit** (пропасть) — падение = смерть
- **Slippery Surface** (скользкая поверхность) — низкое трение

### 2.4 Система сбора предметов

#### 2.4.1 Монеты (Coins)
- Дают +10 очков при сборе
- Анимация: вращение
- Количество на уровне: 10-20 шт

#### 2.4.2 Бонусы (Power-ups)
- **Shield** — временная защита (3 сек)
- **Speed Boost** — ускорение (2 сек, +150 скорость)
- **Extra Life** — дополнительная жизнь (+1 HP)
- **Time Freeze** — все враги стоят на месте (2 сек)

### 2.5 Камера и скролинг

#### 2.5.1 Параметры камеры
- Тип: Follow Camera (следит за персонажем)
- Смещение от центра: вперед по ходу движения
- Гладкость: Panning Fraction = 0.1
- Зум: 1.0x

#### 2.5.2 Граница видимости
- Если персонаж упал ниже видимой области → Game Over
- Максимальное смещение вверх — конец уровня

---

## 3. ИСПОЛЬЗУЕМЫЕ ТЕХНОЛОГИИ ARCADE

### 3.1 Спрайты и графика
✅ **Sprites** (arcade.Sprite)
- Главный персонаж
- Враги
- Платформы
- Сборные предметы
- UI элементы (кнопки)

✅ **SpriteList и Groups**
- player_list
- platforms_list
- enemies_list
- coins_list
- hazards_list
- ui_buttons_list (для физических кнопок меню)

✅ **Анимация**
- TextureList для спрайтов персонажа
- frame_counter для переключения кадров
- Скорость анимации: 0.1 сек/кадр

### 3.2 Физика и коллизии

✅ **PhysicsEnginePlatformer** (для простых платформеров)
- Использование для Level 1
- Гравитация, коллизии с платформами

✅ **Collision Detection**
- check_for_collision(sprite1, sprite2)
- sprite.collides_with_list(sprite_list)
- Обнаружение: враги, предметы, опасности

✅ **PymunkPhysicsEngine** (для расширенной физики)
- Level 2-3 используют полный Pymunk
- Физические кнопки меню (DYNAMIC/KINEMATIC body)
- Collision handlers для специальных эффектов
- Friction и damping

### 3.3 Система частиц (Particle System)

✅ **Particle Emitters**
- При сборе монеты → партиклы (+10 очков)
- При смерти → партиклы крови
- При входе враги → пыль
- При касании опасности → искры
- При сборе бонуса → звёзды/пузыри

✅ **Типы частиц:**
- Coins burst (золотые, вверх)
- Death effect (красные, во все стороны)
- Danger zone (жёлтые, вибрирующие)
- Power-up (разноцветные, спираль)

### 3.4 Звук и музыка

✅ **Sound Effects**
- Jump: whoosh.mp3 (100ms)
- Coin collect: ding.mp3 (300ms)
- Enemy hit: hurt.mp3 (500ms)
- Power-up: chime.mp3 (600ms)
- Game Over: game_over.mp3 (2sec)
- Victory: victory.mp3 (2sec)

✅ **Background Music**
- Menu theme: 60-80 BPM, loop
- Game theme: 100-120 BPM, loop (разные для каждого уровня)
- Pause theme: минималистичная

### 3.5 Хранение данных

✅ **Система сохранения**
- Формат: JSON или CSV
- Данные:
  
- Расположение: `data/game_data.json`
- Загрузка при старте игры
- Сохранение при завершении уровня

### 3.6 Камера (Camera System)

✅ **Используемые функции:**
- arcade.Camera() — создание камеры
- camera.position = (x, y) — позиционирование
- Smooth panning (мягкое следование)
- Граница камеры по размерам уровня

---

## 4. СТРУКТУРА КОДА (АРХИТЕКТУРА)

### 4.1 Модульная организация


### 4.2 Основные классы (ООП)

#### 4.2.1 Суперклассы и наследование


#### 4.2.2 Классы управления состояниями


### 4.3 Управление состояниями (State Manager)


---

## 5. УРОВНИ И ПРОЕКТИРОВАНИЕ

### 5.1 Структура Level 1 (Easy)
- **Размер:** 1920×1080 пиксели
- **Длительность:** 60 сек
- **Враги:** 2 PatrolEnemy
- **Платформы:** 8 шт (статичные)
- **Монеты:** 12
- **Бонусов:** 1 Shield
- **Главная механика:** Обучение управлению и прыжкам

### 5.2 Структура Level 2 (Medium)
- **Размер:** 2560×1440 пиксели
- **Длительность:** 120 сек
- **Враги:** 2 PatrolEnemy + 1 JumpingEnemy
- **Платформы:** 12 шт (2 движущихся)
- **Монеты:** 18
- **Опасности:** 3 зоны со шипами
- **Бонусов:** 2 (Shield, Speed Boost)
- **Главная механика:** Избегание врагов, использование платформ

### 5.3 Структура Level 3 (Hard)
- **Размер:** 3200×1800 пиксели
- **Длительность:** 180 сек
- **Враги:** 1 PatrolEnemy + 1 JumpingEnemy + 1 FlyingEnemy
- **Платформы:** 15 шт (4 движущихся, 2 исчезающих)
- **Монеты:** 20
- **Опасности:** 5 зон (шипы, лава, пропасти)
- **Бонусов:** 3 (все типы)
- **Главная механика:** Полный контроль всех механик

### 5.4 Описание уровней (JSON)


---

## 6. ТРЕБОВАНИЯ К ОЦЕНКЕ (КРИТЕРИИ)

### 6.1 Объём кода (15 баллов)
- **Требование:** ≥500 строк содержательного кода
- **Учитываемое:**
  - Основной игровой код
  - Классы и функции
  - Обработчики событий
- **НЕ учитываемое:**
  - Карты уровней (если они в JSON)
  - Пустые строки и комментарии (только их объём)

**Стратегия:** 
- Player класс: 100+ строк
- Enemy AI: 80+ строк
- Physics & Collision: 120+ строк
- State Manager: 100+ строк
- UI & Sound Manager: 100+ строк
- Остальное: 100+ строк
- **Итого:** ~700+ строк ✓

### 6.2 Чистота кода (5 баллов)
- ✅ **PEP 8 compliance**
  - Отступы: 4 пробела
  - Длина строки: ≤79 символов
  - Имена: snake_case для функций/переменных, CamelCase для классов

- ✅ **Константы в коде**
  

- ✅ **Отсутствие copy-paste**
  - Использовать функции/методы для повторяющегося кода
  - Наследование для общей логики

- ✅ **Говорящие имена переменных**
  

- ✅ **Документирование**
  - Docstrings для всех классов и методов
  - Комментарии только для нетривиального кода

### 6.3 Качество проектирования (20 баллов)
- ✅ **ООП и модули**
  - Минимум 10 классов (Player, Enemy×3, Platform, Coin, etc.)
  - Модульная структура (game/, entities/, systems/, ui/)
  - Наследование и полиморфизм

- ✅ **Архитектура**
  - State Manager (menu, game, pause, gameover)
  - Event-driven обработка (on_key_press, on_update)
  - Separation of Concerns (логика отдельно от отрисовки)

- ✅ **Управление ресурсами**
  - Manager классы (SoundManager, DataManager, CameraManager)
  - Конфиг файл (config.py)
  - Ленивая загрузка ресурсов

- ✅ **Обработка ошибок**
  - Try-except для загрузки файлов
  - Валидация данных
  - Graceful degradation

### 6.4 Применённые технологии (20 баллов)
**Требование:** Использовать ВСЕ из этого списка:

- ✅ **requirements.txt**
  

- ✅ **Стартовое окно** (Menu State)

- ✅ **Финальное окно** (Game Over / Victory State)

- ✅ **Подсчёт и вывод результатов** (Score, High Score, Stats)

- ✅ **Спрайты** (Player, Enemies, Platforms, Items)

- ✅ **Collide detection** 
  - check_for_collision()
  - collides_with_list()
  - Pymunk collision handlers

- ✅ **Анимация**
  - Спрайт-листы для персонажа
  - Цикличная анимация врагов
  - Пульсирующие элементы UI

- ✅ **Несколько уровней** (3 уровня: Easy, Medium, Hard)

- ✅ **Камера**
  - Follow camera (за персонажем)
  - Smooth panning
  - Граница видимости

- ✅ **Система частиц**
  - При сборе монет
  - При смерти врага
  - При активации бонуса
  - При опасности

- ✅ **Звук**
  - Sound effects (прыжок, сбор, урон, победа)
  - Background music
  - Volume control

- ✅ **Физический движок**
  - PhysicsEnginePlatformer (Level 1)
  - PymunkPhysicsEngine (Level 2-3)
  - Гравитация, трение, коллизии

- ✅ **Хранение данных**
  - Загрузка/сохранение High Scores (JSON)
  - Статус уровней (пройден/не пройден)
  - Информация о игроке

### 6.5 Оригинальная идея (10 баллов)
- ✅ **Основная фишка:** Физические кнопки меню как платформы
  - Уникальная механика в жанре
  - Создаёт новые головоломки
  - Интерактивный UI, который не просто меню

- ✅ **Дополнительные идеи:**
  - Drag & drop UI элементов
  - Time Freeze бонус
  - Разные типы врагов с уникальным AI
  - Система рекордов

### 6.6 Соблюдение сроков (15 баллов)
- Этап 1: Описание проекта и ТЗ
- Этап 2: Базовая архитектура + простой Player
- Этап 3: Враги, платформы, коллизии
- Этап 4: 2 уровня работают
- Этап 5: Звук, частицы, UI (черновик)
- Этап 6: Все работает + пояснительная записка
- Этап 7: Финальная полировка

### 6.7 Защита проекта (10 баллов)
- ✅ **Презентация:**
  - Титул (название, авторы)
  - Введение (идея, назначение)
  - Описание реализации (архитектура, технологии)
  - Заключение (выводы, планы доработки)

- ✅ **Демонстрация:**
  - Прохождение Level 1
  - Использование физических кнопок паузы
  - Система рекордов

### 6.8 Рабочее состояние (Коэффициент участия)
- **1.0** — всё работает идеально, все уровни пройдены
- **0.75** — незначительные баги, 2/3 уровней работают
- **0.5** — есть баги, 1/3 уровней или основная механика работает
- **0.25** — большинство не работает, только базовые функции

---

## 7. ТЕХНИЧЕСКИЕ СПЕЦИФИКАЦИИ

### 7.1 Целевая платформа
- **ОС:** Windows, macOS, Linux
- **Python:** 3.8+
- **Разрешение:** 1920×1080 (регулируемо)
- **FPS:** 60

### 7.2 Зависимости


### 7.3 Контроль версий (Git)


---

## 8. ДОПОЛНИТЕЛЬНЫЕ ТРЕБОВАНИЯ

### 8.1 Пояснительная записка (Документация)
**Структура:**
1. Введение (2-3 стр.)
   - Описание проекта
   - Цель разработки
   - Целевая аудитория

2. Описание реализации (5-7 стр.)
   - Архитектура (диаграмма классов)
   - Описание ключевых классов
   - Алгоритмы AI врагов
   - Система физики

3. Результаты (2 стр.)
   - Скриншоты из игры
   - Таблица используемых технологий
   - Метрики кода

4. Заключение (1-2 стр.)
   - Выводы
   - Преодолённые трудности
   - Возможности доработки

### 8.2 Видео демонстрация (опционально)
- Длительность: 2-3 минуты
- Содержание:
  - Прохождение Level 1
  - Демонстрация физических кнопок паузы
  - Система рекордов
  - Авторский текст (закадровый)

---

## 9. ВОЗМОЖНЫЕ ДОРАБОТКИ (для максимальной оценки)

1. **Расширенная физика:**
   - Плавающие платформы (с колебанием)
   - Ломающиеся платформы
   - Движущиеся платформы с разной скоростью

2. **Дополнительные враги:**
   - Robot (стреляет лазером)
   - Boss (на конце Level 3)
   - Миниономы (маленькие враги)

3. **Специальные уровни:**
   - Tutorial Level
   - Secret Level (при 100% сборе монет)

4. **Система достижений:**
   - "No Damage" — пройти уровень без урона
   - "Speed Runner" — пройти за определённое время
   - "Coin Master" — собрать все монеты

5. **Мультиплеер:**
   - Local co-op (2 игрока на одной клавиатуре)
   - Совместное прохождение

6. **Кастомизация:**
   - Выбор скина персонажа
   - Фоновые темы
   - Настройка сложности

---

## 10. КОНТРОЛЬНЫЙ СПИСОК РАЗРАБОТКИ

- [ ] Создана структура проекта
- [ ] Написан Player класс с анимацией
- [ ] Реализована система физики (гравитация, прыжок)
- [ ] Созданы враги с AI
- [ ] Реализована система коллизий
- [ ] Создано 3 уровня
- [ ] Реализована система частиц
- [ ] Добавлены звуки
- [ ] Реализовано хранение данных (рекорды)
- [ ] Написано State Manager
- [ ] Создано меню
- [ ] Реализована пауза с физическими кнопками
- [ ] Экран Game Over / Victory
- [ ] Camera система
- [ ] UI и HUD
- [ ] Написана пояснительная записка
- [ ] Создана презентация
- [ ] Записано видео (опционально)
- [ ] Git репозиторий с коммитами
- [ ] Проверена PEP 8
- [ ] Все работает без багов

---

## ЗАКЛЮЧЕНИЕ

Это ТЗ определяет полную спецификацию для разработки аркадного экшена "PhysicsPlay" с инновационной механикой физических кнопок меню. Проект должен продемонстрировать:

✅ Глубокое знание Arcade библиотеки  
✅ Качественный объектно-ориентированный дизайн  
✅ Творческий подход к игровой механике  
✅ Внимание к деталям и полировке  

**Максимальная оценка:** 100+ баллов  
**Версия:** 1.0  
**Дата:** 22 января 2026  

---

*Документ подлежит уточнению с преподавателем перед началом разработки.*
